task maf_counter_task {

	File all_Maf
	File pass_Maf
	Int diskGB


	command <<<

	#increase verbosity
	set -x

	#get counts
	cat ${all_Maf}  | grep -Pv '^#'|grep -Piv '^Hugo'|wc -l > all_count.dat
	cat ${pass_Maf} | grep -Pv '^#'|grep -Piv '^Hugo'|wc -l > pass_count.dat

	>>>

	runtime {
		docker : "broadinstitute/broadmutationcalling_filtering_beta@sha256:d2df6d9d705e90d3ee926b72a3edec5034dd5bdd64c0cf1cabd9fc8462702c79"
		disks  : "local-disk ${diskGB} HDD"
		memory: "0.1 GB"
		}

	output {
		Int all_count=read_int("all_count.dat")
		Int pass_count=read_int("pass_count.dat")
		}

}

workflow maf_counter_workflow {

	File all_Maf
	File pass_Maf
	Int diskGB

call  maf_counter_task {
    input:
	 all_Maf=all_Maf,
	 pass_Maf=pass_Maf,
     diskGB=diskGB
    }

    output {
		maf_counter_task.all_count
		maf_counter_task.pass_count
	}
}	